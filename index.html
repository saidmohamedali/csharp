<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="description" content="Csharp(C#) Main Topics : (This page is under construction) Welcome to this C# Main Topics Document. Here you will find C# (pronounced C Sharp) key topics summaries and links for better knowledge">

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>Csharp(C#) Main Topics</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/saidmohamedali/csharp">View on GitHub</a>

          <h1 id="project_title">Csharp(C#) Main Topics</h1>
          <h2 id="project_tagline">(This page is under construction) Welcome to this C# Main Topics Document. Here you will find C# (pronounced C Sharp) key topics summaries and links for better knowledge</h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/saidmohamedali/csharp/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/saidmohamedali/csharp/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <p>Every one can be a C# developer but being a good developer meant to constantly review some key topics.
This page is not <strong>tutorial for c#</strong>, it is more like "<strong>did you know that...?</strong>".
Topics are not exhaustive but they are essential and organized like a check-list.
All scenarios source  are available under CharpsMainTopics solutions.</p>

<h1>
<a name="generics" class="anchor" href="#generics"><span class="octicon octicon-link"></span></a>Generics</h1>

<p>Generics provide type safety without the overhead of multiple implementations.
It offers the ability to write a single class that other client code can use without incurring the cost or risk of runtime casts or boxing operations.
But there are few thinks to keep in mind while using generics.</p>

<p>Scenario:<em><strong>Why does this code not compile?</strong></em></p>

<div class="highlight highlight-csharp"><pre><span class="k">public</span> <span class="k">class</span> <span class="nc">Generic</span><span class="p">&lt;</span><span class="n">T</span><span class="p">&gt;</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="n">T</span> <span class="n">Field</span><span class="p">;</span> 
    <span class="k">public</span> <span class="n">T</span> <span class="nf">AddSub</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="n">T</span> <span class="n">i</span> <span class="p">=</span> <span class="n">Field</span> <span class="p">+</span> <span class="m">1</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>

<p><em><strong>The answer is:</strong></em> the  <strong>+ operator</strong> is not defined for T.
For further information, please visit:</p>

<ul>
<li>
<a href="http://msdn.microsoft.com/en-us/library/c6cyy67b%28v=vs.90%29.aspx">Generics</a>.</li>
</ul><h2>
<a name="constraints" class="anchor" href="#constraints"><span class="octicon octicon-link"></span></a>Constraints</h2>

<p>Scenario1:<em><strong>Why does this code not compile?</strong></em></p>

<div class="highlight highlight-csharp"><pre> <span class="k">class</span> <span class="nc">CustomFactory</span><span class="p">&lt;</span><span class="n">T</span><span class="p">&gt;</span> 
    <span class="p">{</span>
        <span class="k">public</span> <span class="n">T</span> <span class="nf">CreateItem</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="k">return</span> <span class="k">new</span> <span class="nf">T</span><span class="p">();</span>
        <span class="p">}</span>
    <span class="p">}</span>
</pre></div>

<p><em><strong>The answer is</strong></em> : CreateItem Methode tries to  instantiate a new object of type T and the compile does not now if there is a parameter-less constructor of type T so to make it work we need add <strong>new</strong> constraint to this generic class.
For further information, please visit: </p>

<ul>
<li><a href="http://msdn.microsoft.com/en-us/library/sd2w2ew5.aspx">New constraint</a></li>
</ul><p>Scenario2:<em><strong>What will be printed on the Console and Why?</strong></em></p>

<div class="highlight highlight-csharp"><pre><span class="k">public</span> <span class="k">static</span> <span class="k">void</span> <span class="n">PrintAreEqual</span><span class="p">&lt;</span><span class="n">T</span><span class="p">&gt;(</span><span class="n">T</span> <span class="n">s</span><span class="p">,</span> <span class="n">T</span> <span class="n">t</span><span class="p">)</span> <span class="k">where</span> <span class="n">T</span> <span class="p">:</span> <span class="k">class</span>
<span class="err">{</span>
<span class="n">System</span><span class="p">.</span><span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">s</span> <span class="p">==</span> <span class="n">t</span><span class="p">);</span>
<span class="p">}</span>
<span class="k">static</span> <span class="k">void</span> <span class="nf">Main</span><span class="p">()</span>
<span class="p">{</span>
<span class="kt">string</span> <span class="n">s1</span> <span class="p">=</span> <span class="s">"target"</span><span class="p">;</span>
<span class="n">System</span><span class="p">.</span><span class="n">Text</span><span class="p">.</span><span class="n">StringBuilder</span> <span class="n">sb</span> <span class="p">=</span> <span class="k">new</span> <span class="n">System</span><span class="p">.</span><span class="n">Text</span><span class="p">.</span><span class="n">StringBuilder</span><span class="p">(</span><span class="s">"target"</span><span class="p">);</span>
<span class="kt">string</span> <span class="n">s2</span> <span class="p">=</span> <span class="n">sb</span><span class="p">.</span><span class="n">ToString</span><span class="p">();</span>
<span class="n">PrintAreEqual</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;(</span><span class="n">s1</span><span class="p">,</span> <span class="n">s2</span><span class="p">);</span>
<span class="n">Console</span><span class="p">.</span><span class="n">Read</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>

<p><em><strong>The answer is</strong></em> : False.  Using <strong>where T : class constraint</strong> induce that == will check reference equality and not value equality.
For further information, please visit: </p>

<ul>
<li><a href="http://msdn.microsoft.com/en-us/library/d5x73970.aspx">constraint</a></li>
</ul><p>Scenario3:<em><strong>Why does this code compile?</strong></em></p>

<div class="highlight highlight-csharp"><pre><span class="k">class</span> <span class="nc">A</span> <span class="p">{</span> <span class="k">public</span> <span class="n">A</span><span class="p">()</span> <span class="p">{</span> <span class="p">}</span> <span class="p">}</span>
<span class="k">struct</span> <span class="nc">C</span> <span class="p">{</span>  <span class="p">}</span>
<span class="k">class</span> <span class="nc">D</span><span class="p">&lt;</span><span class="n">T</span><span class="p">&gt;</span> <span class="k">where</span> <span class="n">T</span> <span class="p">:</span> <span class="k">new</span><span class="p">()</span>
<span class="p">{</span>  
<span class="n">D</span><span class="p">&lt;</span><span class="n">A</span><span class="p">&gt;</span> <span class="n">c1</span> <span class="p">=</span> <span class="k">new</span> <span class="n">D</span><span class="p">&lt;</span><span class="n">A</span><span class="p">&gt;();</span>  
<span class="n">D</span><span class="p">&lt;</span><span class="n">C</span><span class="p">&gt;</span> <span class="n">c3</span> <span class="p">=</span> <span class="k">new</span> <span class="n">D</span><span class="p">&lt;</span><span class="n">C</span><span class="p">&gt;();</span>  
<span class="p">}</span>
</pre></div>

<p><em><strong>The answer is</strong></em> : struct C is a value-type, Unlike classes, structs can be instantiated without using a new operator.</p>

<h2>
<a name="generic-collections" class="anchor" href="#generic-collections"><span class="octicon octicon-link"></span></a>Generic Collections</h2>

<p>A generic collection enforces type safety so that no other data type can be added to it. When you retrieve an element from a generic collection, you do not have to determine its data type or convert it.
The classes in the System.Collections namespace do not store elements as specifically typed objects, but as objects of type Object.</p>

<p>Some useful Generic collections:</p>

<ul>
<li>LinkedList is a general-purpose linked list that provides O(1) insertion and removal operations.</li>
<li>SortedDictionary is a sorted dictionary with O(log n) insertion and retrieval operations, which makes it a useful alternative to SortedList.</li>
<li>KeyedCollection is a hybrid between a list and a dictionary, which provides a way to store objects that contain their own keys.</li>
<li>BlockingCollection implements a collection class with bounding and blocking functionality.</li>
<li>ConcurrentBag provides fast insertion and removal of unordered elements.</li>
</ul><p>For further information, please visit: </p>

<ul>
<li><a href="http://msdn.microsoft.com/fr-fr/library/ms172181%28v=vs.110%29.aspx">Generic collections</a></li>
<li><a href="http://msdn.microsoft.com/en-us/magazine/cc163377.aspx">when to use collections</a></li>
</ul><h2>
<a name="variance" class="anchor" href="#variance"><span class="octicon octicon-link"></span></a>Variance</h2>

<p>Scenario1: <em><strong>Why does this code not compile?</strong></em></p>

<div class="highlight highlight-csharp"><pre><span class="n">List</span><span class="p">&lt;</span><span class="kt">int</span><span class="p">&gt;</span> <span class="n">ints</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="kt">int</span><span class="p">&gt;();</span>
<span class="n">ints</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="m">1</span><span class="p">);</span>
<span class="n">ints</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="m">10</span><span class="p">);</span>
<span class="n">ints</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="m">42</span><span class="p">);</span>
<span class="n">List</span><span class="p">&lt;</span><span class="kt">object</span><span class="p">&gt;</span> <span class="n">objects</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="kt">object</span><span class="p">&gt;();</span>
<span class="n">objects</span><span class="p">.</span><span class="n">AddRange</span><span class="p">(</span><span class="n">ints</span><span class="p">);</span>

</pre></div>

<p><em><strong>The answer is</strong></em> : Generic collections are strongly type, event if <strong>int</strong> is convertible to <strong>object</strong>, <code>List&lt;int&gt;</code> are not <code>List&lt;object&gt;</code>. There is simple workarround:</p>

<p><code>AddRange&lt;int, object&gt;(ints, objects);</code></p>

<div class="highlight highlight-csharp"><pre><span class="k">public</span> <span class="k">static</span> <span class="k">void</span> <span class="n">AddRange</span><span class="p">&lt;</span><span class="n">S</span><span class="p">,</span> <span class="n">D</span><span class="p">&gt;(</span><span class="n">List</span><span class="p">&lt;</span><span class="n">S</span><span class="p">&gt;</span> <span class="n">source</span><span class="p">,</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">D</span><span class="p">&gt;</span> <span class="n">destination</span><span class="p">)</span>
        <span class="k">where</span> <span class="n">S</span> <span class="p">:</span> <span class="n">D</span>
        <span class="p">{</span>
            <span class="k">foreach</span> <span class="p">(</span><span class="n">S</span> <span class="n">sourceElement</span> <span class="k">in</span> <span class="n">source</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="n">destination</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="n">sourceElement</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">}</span>
</pre></div>

<p>A generic interface or delegate is called variant if its generic parameters are declared covariant or contravariant
For further information, please visit: </p>

<ul>
<li><a href="http://msdn.microsoft.com/fr-fr/library/ms228359%28v=vs.90%29.aspx">Variance</a></li>
</ul><p>Scenario2:<em><strong>What king of runtime exception do we get with code above?</strong></em></p>

<div class="highlight highlight-csharp"><pre> <span class="k">class</span> <span class="nc">Instrument</span> <span class="p">{</span>
        <span class="k">public</span> <span class="k">override</span> <span class="kt">string</span> <span class="nf">ToString</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="k">return</span> <span class="s">"I am simple Instrument"</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">class</span> <span class="nc">Index</span><span class="p">:</span><span class="n">Instrument</span> <span class="p">{</span>
        <span class="k">public</span> <span class="k">override</span> <span class="kt">string</span> <span class="nf">ToString</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="k">return</span> <span class="s">"I am an Index"</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">class</span> <span class="nc">IndexOption</span> <span class="p">:</span> <span class="n">Index</span> <span class="p">{</span>
        <span class="k">public</span> <span class="k">override</span> <span class="kt">string</span> <span class="nf">ToString</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="k">return</span> <span class="s">"I am an option over Index"</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">class</span> <span class="nc">Program</span>
    <span class="p">{</span>
        <span class="k">static</span> <span class="k">void</span> <span class="nf">Main</span><span class="p">(</span><span class="kt">string</span><span class="p">[]</span> <span class="n">args</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">Index</span> <span class="n">l_index</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Index</span><span class="p">();</span>
            <span class="n">Instrument</span> <span class="n">l_instrument</span> <span class="p">=</span> <span class="n">l_index</span><span class="p">;</span>

            <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">l_instrument</span><span class="p">);</span>

            <span class="n">IndexOption</span> <span class="n">l_indexOption</span> <span class="p">=</span> <span class="k">new</span> <span class="n">IndexOption</span><span class="p">();</span>
            <span class="n">l_instrument</span> <span class="p">=</span> <span class="n">l_indexOption</span><span class="p">;</span>
            <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">l_instrument</span><span class="p">);</span>

            <span class="n">Instrument</span><span class="p">[]</span> <span class="n">l_instruments</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Instrument</span><span class="p">[</span><span class="m">3</span><span class="p">];</span>
            <span class="n">l_instruments</span><span class="p">[</span><span class="m">0</span><span class="p">]</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Index</span><span class="p">();</span>
            <span class="n">l_instruments</span><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Instrument</span><span class="p">();</span>
            <span class="n">l_instruments</span><span class="p">[</span><span class="m">2</span><span class="p">]</span> <span class="p">=</span> <span class="k">new</span> <span class="n">IndexOption</span><span class="p">();</span>
            <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">l_i</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">l_i</span> <span class="p">&lt;</span> <span class="n">l_instruments</span><span class="p">.</span><span class="n">Length</span><span class="p">;</span> <span class="p">++</span><span class="n">l_i</span><span class="p">)</span>
                <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="kt">string</span><span class="p">.</span><span class="n">Format</span><span class="p">(</span><span class="s">"array[{0}]={1}:"</span><span class="p">,</span> <span class="n">l_i</span><span class="p">,</span> <span class="n">l_instruments</span><span class="p">[</span><span class="n">l_i</span><span class="p">]));</span>

            <span class="n">Instrument</span><span class="p">[]</span> <span class="n">l_instruments2</span> <span class="p">=</span> <span class="k">new</span> <span class="n">IndexOption</span><span class="p">[</span><span class="m">3</span><span class="p">];</span>
            <span class="n">l_instruments2</span><span class="p">[</span><span class="m">0</span><span class="p">]</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Index</span><span class="p">();</span> 
            <span class="n">l_instruments2</span><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Instrument</span><span class="p">();</span>
            <span class="n">l_instruments2</span><span class="p">[</span><span class="m">2</span><span class="p">]</span> <span class="p">=</span> <span class="k">new</span> <span class="n">IndexOption</span><span class="p">();</span>
            <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">l_i</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">l_i</span> <span class="p">&lt;</span> <span class="n">l_instruments2</span><span class="p">.</span><span class="n">Length</span><span class="p">;</span> <span class="p">++</span><span class="n">l_i</span><span class="p">)</span>
                <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="kt">string</span><span class="p">.</span><span class="n">Format</span><span class="p">(</span><span class="s">"array[{0}]={1}:"</span><span class="p">,</span> <span class="n">l_i</span><span class="p">,</span> <span class="n">l_instruments2</span><span class="p">[</span><span class="n">l_i</span><span class="p">]));</span>
            <span class="n">Console</span><span class="p">.</span><span class="n">Read</span><span class="p">();</span>
        <span class="p">}</span>

    <span class="p">}</span>

</pre></div>

<p><em><strong>The answer is</strong></em> : <strong>System.ArrayTypeMismatchException</strong> with theses lines:   </p>

<div class="highlight highlight-csharp"><pre><span class="n">l_instruments2</span><span class="p">[</span><span class="m">0</span><span class="p">]</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Index</span><span class="p">();</span> 
<span class="n">l_instruments2</span><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Instrument</span><span class="p">();</span>
</pre></div>

<p>An Index object and IndexOption are Instrument because of Implicit Conversion: <strong>covariance</strong>  but when it came to array, we better not forget that  <strong>covariance</strong>  is not type safe. Run-time failure is due to run-time type checking when assign operation actually happen. Array methods are not covariante.
In this scenario we should add extra method in order to be able to add <strong>Instrument</strong> or <strong>Index</strong> into <strong>l_instruments2</strong> array.</p>

<p>For further information, please visit:</p>

<ul>
<li><a href="http://sebastiencourtois.wordpress.com/2010/04/14/nouveauts-c-net-4-introduction-la-covariance-contravariance">Covariance - Contravariance in french</a></li>
<li><a href="http://msdn.microsoft.com/en-us/library/ee207183.aspx">Covariance - Contravariance</a></li>
</ul><h3>
<a name="variance-in-delegates" class="anchor" href="#variance-in-delegates"><span class="octicon octicon-link"></span></a>Variance in Delegates</h3>

<p>Scenario3: <em><strong>What is wrong with this peace of code?</strong></em></p>

<div class="highlight highlight-csharp"><pre><span class="k">public</span> <span class="k">class</span> <span class="nc">Instrument</span>
    <span class="p">{</span>
        <span class="k">public</span> <span class="kt">double</span> <span class="n">Price</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
        <span class="k">public</span> <span class="k">override</span> <span class="kt">string</span> <span class="nf">ToString</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="k">return</span> <span class="s">"I am simple Instrument"</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">public</span> <span class="k">class</span> <span class="nc">Index</span> <span class="p">:</span> <span class="n">Instrument</span>
    <span class="p">{</span>
        <span class="k">public</span> <span class="k">override</span> <span class="kt">string</span> <span class="nf">ToString</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="k">return</span> <span class="s">"I am an Index"</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">public</span> <span class="k">class</span> <span class="nc">IndexOption</span> <span class="p">:</span> <span class="n">Index</span>
    <span class="p">{</span>
        <span class="k">public</span> <span class="kt">double</span> <span class="n">Premium</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
        <span class="k">public</span> <span class="k">override</span> <span class="kt">string</span> <span class="nf">ToString</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="k">return</span> <span class="s">"I am an option over Index"</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">class</span> <span class="nc">Program</span>
    <span class="p">{</span>
        <span class="k">static</span> <span class="k">void</span> <span class="nf">Main</span><span class="p">(</span><span class="kt">string</span><span class="p">[]</span> <span class="n">args</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">Action</span><span class="p">&lt;</span><span class="n">Instrument</span><span class="p">&gt;</span> <span class="n">l_PrintNameAction</span> <span class="p">=</span> <span class="n">x</span> <span class="p">=&gt;</span> <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">"Instrument Type is : {0}"</span><span class="p">,</span> <span class="n">x</span><span class="p">.</span><span class="n">ToString</span><span class="p">());</span>
            <span class="n">Action</span><span class="p">&lt;</span><span class="n">Instrument</span><span class="p">&gt;</span> <span class="n">l_PrintPriceAction</span> <span class="p">=</span> <span class="n">x</span> <span class="p">=&gt;</span> <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">"Instrument Price: {0}"</span><span class="p">,</span> <span class="n">x</span><span class="p">.</span><span class="n">Price</span><span class="p">);</span>
            <span class="n">Action</span><span class="p">&lt;</span><span class="n">IndexOption</span><span class="p">&gt;</span> <span class="n">l_PrintPremiumAction</span> <span class="p">=</span> <span class="n">x</span> <span class="p">=&gt;</span> <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="s">"Extra Info: {0}"</span><span class="p">,</span> <span class="n">x</span><span class="p">.</span><span class="n">Premium</span><span class="p">);</span>
            <span class="n">Delegate</span><span class="p">.</span><span class="n">Combine</span><span class="p">(</span><span class="n">l_PrintNameAction</span><span class="p">,</span> <span class="n">l_PrintPriceAction</span><span class="p">,</span> <span class="n">l_PrintPremiumAction</span><span class="p">).</span>
                <span class="n">DynamicInvoke</span><span class="p">((</span><span class="k">new</span> <span class="n">IndexOption</span> <span class="p">{</span> <span class="n">Price</span> <span class="p">=</span> <span class="m">12</span><span class="p">,</span> <span class="n">Premium</span> <span class="p">=</span> <span class="m">2</span> <span class="p">}));</span>


            <span class="n">Console</span><span class="p">.</span><span class="n">Read</span><span class="p">();</span>
        <span class="p">}</span>
    <span class="p">}</span>


</pre></div>

<p><em><strong>The answer is</strong></em> : Delegate.Combine lead to a run-time exception because The Combine method or (+) operator does not support variant delegate.   </p>

<p>For further information, please visit:</p>

<ul>
<li><a href="http://msdn.microsoft.com/en-us/library/dd233060.aspx">Variance in delegate</a></li>
</ul><h1>
<a name="expressions" class="anchor" href="#expressions"><span class="octicon octicon-link"></span></a>Expressions</h1>

<ul>
<li><a href="http://msdn.microsoft.com/fr-fr/library/bb397951.aspx">Expression Trees</a></li>
<li><a href="http://blogs.msdn.com/b/charlie/archive/2008/01/31/expression-tree-basics.aspx">Expression Trees Basics</a></li>
<li><a href="http://blogs.msdn.com/b/csharpfaq/archive/2009/09/14/generating-dynamic-methods-with-expression-trees-in-visual-studio-2010.aspx">Dynamic Expression Trees</a></li>
<li><a href="http://msdn.microsoft.com/fr-fr/library/bb397687.aspx">Lambda Expressions</a></li>
</ul><p>Just few thing to keep in mind for Expression trees
-need to be compiled with <strong>Compile()</strong> method
-need to be run with (parameter(s)) or ()
Example:</p>

<div class="highlight highlight-csharp"><pre><span class="kt">int</span> <span class="n">l_result</span> <span class="p">=</span> <span class="n">Expression</span><span class="p">.</span><span class="n">Lambda</span><span class="p">&lt;</span><span class="n">Func</span><span class="p">&lt;</span><span class="kt">int</span><span class="p">,</span> <span class="kt">int</span><span class="p">&gt;&gt;(</span><span class="n">block</span><span class="p">,</span> <span class="k">value</span><span class="p">).</span><span class="n">Compile</span><span class="p">()(</span><span class="m">5</span><span class="p">);</span>
</pre></div>

<h2>
<a name="operators" class="anchor" href="#operators"><span class="octicon octicon-link"></span></a>Operators</h2>

<ul>
<li><a href="http://msdn.microsoft.com/en-us/library/ms173145.aspx">C# Operators</a></li>
</ul><h2>
<a name="query-expressions" class="anchor" href="#query-expressions"><span class="octicon octicon-link"></span></a>Query Expressions</h2>

<ul>
<li><a href="http://msdn.microsoft.com/fr-fr/library/bb384065.aspx">C# Queries</a></li>
</ul><h1>
<a name="arrays-and-collections" class="anchor" href="#arrays-and-collections"><span class="octicon octicon-link"></span></a>Arrays and Collections</h1>

<h2>
<a name="array-and-collection-usage" class="anchor" href="#array-and-collection-usage"><span class="octicon octicon-link"></span></a>Array and Collection Usage</h2>

<h1>
<a name="class-members" class="anchor" href="#class-members"><span class="octicon octicon-link"></span></a>Class Members</h1>

<h2>
<a name="readonly-and-constant-fields" class="anchor" href="#readonly-and-constant-fields"><span class="octicon octicon-link"></span></a>Readonly and Constant Fields</h2>

<h2>
<a name="modifiers" class="anchor" href="#modifiers"><span class="octicon octicon-link"></span></a>Modifiers</h2>

<h2>
<a name="staticinstance-members" class="anchor" href="#staticinstance-members"><span class="octicon octicon-link"></span></a>Static/Instance Members</h2>

<h2>
<a name="properties-and-indexers" class="anchor" href="#properties-and-indexers"><span class="octicon octicon-link"></span></a>Properties and Indexers</h2>

<h2>
<a name="methods" class="anchor" href="#methods"><span class="octicon octicon-link"></span></a>Methods</h2>

<h1>
<a name="reference-and-value-types" class="anchor" href="#reference-and-value-types"><span class="octicon octicon-link"></span></a>Reference and Value Types</h1>

<h2>
<a name="classes-and-structs" class="anchor" href="#classes-and-structs"><span class="octicon octicon-link"></span></a>Classes and Structs</h2>

<h2>
<a name="primitive-datatypes" class="anchor" href="#primitive-datatypes"><span class="octicon octicon-link"></span></a>Primitive Datatypes</h2>

<h2>
<a name="boxing-and-unboxing" class="anchor" href="#boxing-and-unboxing"><span class="octicon octicon-link"></span></a>Boxing and Unboxing</h2>

<h1>
<a name="resources-and-com" class="anchor" href="#resources-and-com"><span class="octicon octicon-link"></span></a>Resources and COM</h1>

<h2>
<a name="unmanaged-resources" class="anchor" href="#unmanaged-resources"><span class="octicon octicon-link"></span></a>Unmanaged Resources</h2>

<h2>
<a name="platform-invoke-pinvoke" class="anchor" href="#platform-invoke-pinvoke"><span class="octicon octicon-link"></span></a>Platform Invoke (P/Invoke)</h2>

<h1>
<a name="flow-of-control" class="anchor" href="#flow-of-control"><span class="octicon octicon-link"></span></a>Flow of control</h1>

<h2>
<a name="jump-statements" class="anchor" href="#jump-statements"><span class="octicon octicon-link"></span></a>Jump Statements</h2>

<h2>
<a name="selection-statements" class="anchor" href="#selection-statements"><span class="octicon octicon-link"></span></a>Selection Statements</h2>

<h2>
<a name="iteration-statements" class="anchor" href="#iteration-statements"><span class="octicon octicon-link"></span></a>Iteration Statements</h2>

<h1>
<a name="delegates-and-events" class="anchor" href="#delegates-and-events"><span class="octicon octicon-link"></span></a>Delegates and Events</h1>

<h2>
<a name="event-creation-and-usage" class="anchor" href="#event-creation-and-usage"><span class="octicon octicon-link"></span></a>Event Creation and Usage</h2>

<h2>
<a name="asynchronous-processing" class="anchor" href="#asynchronous-processing"><span class="octicon octicon-link"></span></a>Asynchronous Processing</h2>

<h2>
<a name="action-and-func" class="anchor" href="#action-and-func"><span class="octicon octicon-link"></span></a>Action and Func</h2>

<h1>
<a name="exceptions" class="anchor" href="#exceptions"><span class="octicon octicon-link"></span></a>Exceptions</h1>

<h2>
<a name="exception-handling" class="anchor" href="#exception-handling"><span class="octicon octicon-link"></span></a>Exception Handling</h2>

<h2>
<a name="rethrowing-exceptions" class="anchor" href="#rethrowing-exceptions"><span class="octicon octicon-link"></span></a>Rethrowing Exceptions</h2>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">Csharp(C#) Main Topics maintained by <a href="https://github.com/saidmohamedali">saidmohamedali</a></p>
        <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

              <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("C#, c#, csharp, .net");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>


  </body>
</html>
